# Keycast Environment Variables
# Copy this file to .env and fill in your values

# Domain for production deployment (required for docker-compose)
DOMAIN=keycast.example.com

# PostgreSQL database password (required for docker-compose)
POSTGRES_PASSWORD=change-this-secure-password-in-production

# Database connection URL
# Local dev: postgres://postgres:password@localhost/keycast
# Docker: postgres://postgres:${POSTGRES_PASSWORD}@postgres/keycast
DATABASE_URL=postgres://postgres:password@localhost/keycast

# Allowed public keys for admin access (comma-separated)
# Leave empty to allow any authenticated user
ALLOWED_PUBKEYS=

# Master encryption key path (generated via bun run key:generate)
MASTER_KEY_PATH=./master.key

# Use Google Cloud KMS instead of local file-based encryption
USE_GCP_KMS=false

# Google Cloud KMS configuration (only if USE_GCP_KMS=true)
GCP_PROJECT_ID=your-project-id
GCP_KMS_LOCATION=global
GCP_KMS_KEY_RING=keycast-keys
GCP_KMS_KEY_NAME=master-key

# Allowed CORS origins for /auth endpoints (comma-separated)
ALLOWED_ORIGINS=https://keycast.example.com,https://peek.verse.app

# Bunker relay infrastructure (comma-separated WebSocket URLs)
# The signer connects to these relays for NIP-46 communication
# All bunker URLs will reference these relays (deployment-wide setting)
BUNKER_RELAYS=wss://relay.divine.video,wss://relay.primal.net,wss://relay.nsec.app,wss://nos.lol

# Optional: SendGrid API key for email verification
SENDGRID_API_KEY=

# Optional: From email address for notifications
FROM_EMAIL=noreply@keycast.example.com

# Rust logging level
RUST_LOG=info,keycast_signer=debug

# Enable /examples directory (development only, set to false in production)
ENABLE_EXAMPLES=false

# Server Nostr secret key for signing UCANs (hex format, 64 chars)
# Generate with: openssl rand -hex 32
# IMPORTANT: Keep this secret secure - used to sign session tokens for users without keys
SERVER_NSEC=
